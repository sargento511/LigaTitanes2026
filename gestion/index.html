<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liga Titanes 2026 - Gesti√≥n MDD</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>

   <div id="selection-screen" class="fade-in">
        <h1 class="main-title">LIGA TITANES 2026</h1>
        <p class="subtitle">Selecciona tu equipo (Valores en MDD)</p>
        <div class="team-grid">
            <div class="team-card" onclick="entrarEquipo('HALCONES ROJOS', 'hal.png')">
                <div class="logo-wrapper"><img src="hal.png" alt="Halcones Rojos"></div>
                <h2>HALCONES ROJOS</h2>
                <button class="btn-select">Gestionar</button>
            </div>
            <div class="team-card" onclick="entrarEquipo('DEPORTIVO FEDERAL', 'dep_logo.png')">
                <div class="logo-wrapper"><img src="dep_logo.png" alt="Deportivo Federal"></div>
                <h2>DEPORTIVO FEDERAL</h2>
                <button class="btn-select">Gestionar</button>
            </div>
        </div>
    </div>

    <div id="dashboard" class="hidden">
        <nav class="top-nav">
            <div class="nav-left">
                <img id="header-logo" src="" alt="logo">
                <h2 id="header-name"></h2>
            </div>
            <div class="nav-actions">
                <button class="btn-save" onclick="guardarConfiguracion()">üíæ GUARDAR CAMBIOS</button>
                <button class="btn-save" onclick="finalizarTemporada()">‚åõ FINALIZAR TEMPORADA</button>
                <button class="btn-danger" onclick="location.reload()">üö™ SALIR</button>
            </div>
        </nav>

        <div class="main-content">
            <div class="overview-cards">
                <div class="card">
                    <p>Presupuesto</p>
                    <h3 id="info-presupuesto">0 MDD</h3>
                    <input type="number" id="input-presupuesto" placeholder="Editar presupuesto..." style="width: 80%; font-size: 0.7rem;">
                </div>
                <div class="card">
                    <p>Estadio</p>
                    <input type="text" id="input-estadio" placeholder="Nombre Estadio">
                    <input type="number" id="input-capacidad" placeholder="Capacidad">
                </div>
                <div class="card">
                    <p>Plantilla</p>
                    <h3 id="player-count">0 Jugadores</h3>
                </div>
            </div>

            <section class="player-list-section">
                <table>
                    <thead>
                        <tr>
                            <th>Jugador</th>
                            <th>Valor</th>
                            <th>Sueldo</th>
                            <th>Prima</th>
                            <th>Contrato</th>
                        </tr>
                    </thead>
                    <tbody id="lista-jugadores"></tbody>
                </table>
            </section>
        </div>

        <div id="phone-container" class="phone-hidden">
            <button id="phone-toggle" onclick="togglePhone()">üì± MERCADO & CONTRATOS</button>
            <div class="phone-screen">
                <div class="phone-tabs">
                    <button onclick="openTab('tab-calc')">üí∏</button>
                    <button onclick="openTab('tab-reno')">‚úçÔ∏è</button>
                    <button onclick="openTab('tab-nego')">ü§ù</button>
                </div>

                <div id="tab-calc" class="phone-tab active">
                    <h4>Fichar (MDD)</h4>
                    <input type="text" id="calc-nombre" placeholder="Nombre">
                    <input type="number" id="calc-valor" placeholder="Valor MDD" oninput="actualizarCalculos()">
                    <div class="calc-preview">
                        <p>Sueldo: <span id="res-salario">0</span> MDD</p>
                        <p>Prima: <span id="res-prima">0</span> MDD</p>
                    </div>
                    <input type="number" id="calc-contrato" placeholder="A√±os">
                    <button class="btn-action" onclick="contratarJugador()">CONTRATAR</button>
                </div>

                <div id="tab-reno" class="phone-tab">
                    <h4>Contratos</h4>
                    <select id="select-jugador-gestion"></select>
                    <input type="number" id="reno-anos-input" placeholder="A√±os a sumar" style="margin-top:10px">
                    <button class="btn-action" onclick="renovarJugador()" style="margin-top:5px">RENOVAR</button>
                    <hr style="margin: 15px 0; border: 0.5px solid #333;">
                    <button class="btn-danger" onclick="liberarProceso()">DESPEDIR (Pagar contrato)</button>
                </div>

                <div id="tab-nego" class="phone-tab">
                    <h4>Oferta a Rival</h4>
                    <select id="select-jugador-rival"></select>
                    <input type="number" id="nego-oferta" placeholder="MDD Ofrecidos">
                    <button class="btn-action" onclick="enviarPropuesta()">ENVIAR OFERTA</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-oferta" class="hidden">
        <div class="modal-box">
            <h3>üö® Oferta Recibida</h3>
            <div id="oferta-content"></div>
            <div class="modal-grid-btns">
                <button class="btn-action" onclick="aceptarOferta()">Aceptar</button>
                <button class="btn-warning" onclick="contraofertar()">Contraoferta</button>
                <button class="btn-danger" onclick="cerrarOferta()">Rechazar</button>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
