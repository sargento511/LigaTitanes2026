<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liga Titanes 2026 - Gesti√≥n</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>

    <div id="selection-screen">
        <h1 class="main-title">LIGA TITANES 2026</h1>
        <div class="team-grid">
            <div class="team-card" onclick="entrarEquipo('HALCONES ROJOS', 'hal.png')">
                <div class="logo-wrapper"><img src="hal.png"></div>
                <h2>HALCONES ROJOS</h2>
                <button class="btn-select">ENTRAR</button>
            </div>
            <div class="team-card" onclick="entrarEquipo('DEPORTIVO FEDERAL', 'dep_logo.png')">
                <div class="logo-wrapper"><img src="dep_logo.png"></div>
                <h2>DEPORTIVO FEDERAL</h2>
                <button class="btn-select">ENTRAR</button>
            </div>
        </div>
    </div>

    <div id="dashboard" class="hidden">
        <header class="top-nav">
            <div class="current-team-info">
                <img id="header-logo" src="" style="height: 40px; width: 40px; object-fit: contain;">
                <h2 id="header-name"></h2>
            </div>
            <div class="nav-actions">
                <button class="btn-warning" onclick="avanzarTemporada()">üóìÔ∏è Fin Temporada</button>
                <button class="btn-exit" onclick="location.reload()">Salir</button>
            </div>
        </header>

        <section class="overview-cards">
            <div class="stat-card"><span>Presupuesto</span><h3 id="info-presupuesto">0 MDD</h3></div>
            <div class="stat-card"><span>Estadio</span><h3 id="info-estadio">-</h3></div>
            <div class="stat-card"><span>Plantilla</span><h3 id="player-count">0</h3></div>
        </section>

        <section class="player-list-section">
            <div class="table-container">
                <table>
                    <thead>
                        <tr><th>Jugador</th><th>Valor</th><th>Sueldo</th><th>Contrato</th></tr>
                    </thead>
                    <tbody id="lista-jugadores"></tbody>
                </table>
            </div>
        </section>
    </div>

    <div id="phone-container" class="phone-hidden">
        <button id="phone-toggle" onclick="togglePhone()">üì± MEN√ö DE GESTI√ìN</button>
        <div class="phone-screen">
            <div class="phone-tabs">
                <button onclick="openTab('tab-fichar')">Fichar</button>
                <button onclick="openTab('tab-contrato')">Contrato</button>
                <button onclick="openTab('tab-nego')">Tratos</button>
            </div>

            <div id="tab-fichar" class="phone-tab active">
                <input type="text" id="calc-nombre" placeholder="Nombre">
                <input type="number" id="calc-valor" placeholder="Valor MDD" oninput="actualizarCalculos()">
                <div class="calc-preview">Sueldo: <span id="res-salario">0</span> | Prima: <span id="res-prima">0</span></div>
                <input type="number" id="calc-contrato" placeholder="A√±os">
                <button class="btn-action" onclick="contratarJugador()">FICHAR</button>
            </div>

            <div id="tab-contrato" class="phone-tab">
                <select id="select-jugador-gestion"></select>
                <input type="number" id="reno-anos" placeholder="A√±os a sumar" style="margin-top:10px">
                <button class="btn-action" onclick="renovarJugador()">RENOVAR</button>
                <button class="btn-danger" onclick="liberarJugador()" style="margin-top:10px">DESPEDIR (Pagar Indemnizaci√≥n)</button>
            </div>

            <div id="tab-nego" class="phone-tab">
                <select id="select-jugador-rival"></select>
                <input type="number" id="nego-oferta" placeholder="MDD a ofrecer">
                <button class="btn-action" onclick="enviarPropuesta()">ENVIAR OFERTA</button>
            </div>
        </div>
    </div>

    <div id="modal-oferta" class="hidden">
        <div class="modal-box">
            <h3>üì© Nueva Oferta</h3>
            <div id="oferta-content"></div>
            <div class="modal-grid-btns">
                <button class="btn-action" onclick="aceptarOferta()">Aceptar</button>
                <button class="btn-warning" onclick="contraofertar()">Contraoferta</button>
                <button class="btn-danger" onclick="cerrarOferta()">Rechazar</button>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
