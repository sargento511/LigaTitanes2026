<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liga Titanes 2026 - Gesti칩n MDD</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>

    <div id="selection-screen" class="fade-in">
        <h1 class="main-title">LIGA TITANES 2026</h1>
        <p class="subtitle">Selecciona tu equipo (Valores en MDD)</p>
        <div class="team-grid">
            <div class="team-card" onclick="entrarEquipo('HALCONES ROJOS', 'hal.png')">
                <div class="logo-wrapper"><img src="hal.png" alt="Halcones Rojos"></div>
                <h2>HALCONES ROJOS</h2>
                <button class="btn-select">Gestionar</button>
            </div>
            <div class="team-card" onclick="entrarEquipo('DEPORTIVO FEDERAL', 'dep.png')">
                <div class="logo-wrapper"><img src="dep.png" alt="Deportivo Federal"></div>
                <h2>DEPORTIVO FEDERAL</h2>
                <button class="btn-select">Gestionar</button>
            </div>
        </div>
    </div>

    <div id="dashboard" class="hidden">
        <nav class="top-nav">
            <div class="nav-left">
                <img id="header-logo" src="" alt="Logo">
                <h2 id="header-name"></h2>
            </div>
            <div class="nav-actions">
                <button class="btn-nav" onclick="location.reload()">Cerrar Sesi칩n</button>
            </div>
        </nav>

        <header class="overview-cards">
            <div class="card">
                <p>Presupuesto</p>
                <h3 id="info-presupuesto">0 MDD</h3>
            </div>
            <div class="card">
                <p>Estadio</p>
                <h3 id="info-estadio">-</h3>
                <small id="info-capacidad"></small>
            </div>
            <div class="card">
                <p>Plantilla</p>
                <h3 id="player-count">0 Jugadores</h3>
            </div>
        </header>

        <main class="player-list-section">
            <div class="table-header">
                <h3>Plantilla Actual</h3>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Jugador</th>
                        <th>Valor (MDD)</th>
                        <th>Salario</th>
                        <th>Prima</th>
                        <th>Contrato</th>
                    </tr>
                </thead>
                <tbody id="lista-jugadores"></tbody>
            </table>
        </main>

        <div id="phone-container" class="phone-hidden">
            <button id="phone-toggle" onclick="togglePhone()">游님 GESTI칍N EQUIPO</button>
            <div class="phone-screen">
                <div class="phone-tabs">
                    <button onclick="openTab('tab-calc')">游눯</button>
                    <button onclick="openTab('tab-reno')">游늯</button>
                    <button onclick="openTab('tab-nego')">游뱋</button>
                </div>

                <div id="tab-calc" class="phone-tab active">
                    <h4>Calculadora / Alta</h4>
                    <input type="text" id="calc-nombre" placeholder="Nombre Jugador">
                    <input type="number" id="calc-valor" placeholder="Valor MDD" oninput="previsualizarFinanzas()">
                    <div id="preview-box" class="calc-preview">
                        Ingresa valor para ver Salario/Prima
                    </div>
                    <input type="number" id="calc-contrato" placeholder="A침os">
                    <button class="btn-action" onclick="contratarJugador()">CONTRATAR</button>
                </div>

                <div id="tab-reno" class="phone-tab">
                    <h4>Contratos</h4>
                    <select id="select-jugador-gestion"></select>
                    <input type="number" id="reno-anos-input" placeholder="A침os a sumar" style="margin-top:10px">
                    <button class="btn-action" onclick="renovarJugador()">RENOVAR</button>
                    <hr style="margin: 15px 0; border: 0.5px solid #333;">
                    <button class="btn-danger" onclick="liberarProceso()">DESPEDIR (Pagar contrato)</button>
                </div>

                <div id="tab-nego" class="phone-tab">
                    <h4>Oferta a Rival</h4>
                    <select id="select-jugador-rival"></select>
                    <input type="number" id="nego-oferta" placeholder="MDD Ofrecidos">
                    <button class="btn-action" onclick="enviarPropuesta()">ENVIAR OFERTA</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-oferta" class="hidden">
        <div class="modal-box">
            <h3>游뚿 Oferta Recibida</h3>
            <div id="oferta-content"></div>
            <div class="modal-grid-btns">
                <button class="btn-action" onclick="aceptarOferta()">Aceptar</button>
                <button class="btn-warning" onclick="contraofertar()">Contraoferta</button>
                <button class="btn-danger" onclick="cerrarOferta()">Rechazar</button>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
